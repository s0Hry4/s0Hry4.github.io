<!DOCTYPE html>
<html lang="ja-jp">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="https://s0Hry4.github.io/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content="GitHubPages&#43;HUGOでブログを開設する"/>
  <meta name="twitter:description" content="# GitHub PagesとはGitHubが提供する静的サイトのホスティングサービスです。サーバーを準備する必要がなく、簡単かつ__無料__でWebページを公開することができるのでとても便利です。"/>
  
  
  
  
    <meta name="twitter:creator" content="@"/>
  



		
		
		<meta name="description" content="Log &amp; Diary">
		<meta name="generator" content="Hugo 0.54.0" />
		<title>GitHubPages&#43;HUGOでブログを開設する &middot; 技術とか日々の記録</title>
		<link rel="shortcut icon" href="https://s0Hry4.github.io/images/favicon.ico">
		<link rel="stylesheet" href="https://s0Hry4.github.io/css/style.css">
		<link rel="stylesheet" href="https://s0Hry4.github.io/css/highlight.css">

		
		<link rel="stylesheet" href="https://s0Hry4.github.io/css/monosocialiconsfont.css">
		

		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://s0Hry4.github.io/'> <span class="arrow">←</span>Home</a>
	
	<a href='https://s0Hry4.github.io/posts'>Archive</a>
	<a href='https://s0Hry4.github.io/tags'>Tags</a>
	<a href='https://s0Hry4.github.io/about'>About</a>

	

	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        GitHubPages&#43;HUGOでブログを開設する
                    </h1>
                    <h2 class="headline">
                    Feb 12, 2019 10:29
                    · 364 words
                    · 2 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="https://s0Hry4.github.io/tags/hugo">hugo</a>
                          
                              <a href="https://s0Hry4.github.io/tags/github">github</a>
                          
                              <a href="https://s0Hry4.github.io/tags/develop">develop</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents">
<ul>
<li><a href="#github-pagesとは">GitHub Pagesとは</a></li>
<li><a href="#hugoとは">HUGOとは</a></li>
<li><a href="#導入">導入</a>
<ul>
<li><a href="#githubの準備">GitHubの準備</a>
<ul>
<li><a href="#1-githubリポジトリを作成する">1.GitHubリポジトリを作成する</a>
<ul>
<li><a href="#ユーザー名-組織名-github-io-公開ファイル用">[ユーザー名/組織名].github.io(公開ファイル用)</a></li>
<li><a href="#hugo-source-hugo全体のソース用">hugo_source(HUGO全体のソース用)</a></li>
</ul></li>
</ul></li>
<li><a href="#hugoの準備">HUGOの準備</a>
<ul>
<li><a href="#1-hugoをインストールする">1.HUGOをインストールする</a></li>
<li><a href="#2-hugoプロジェクトを作成する">2.HUGOプロジェクトを作成する</a></li>
<li><a href="#3-テーマを追加する">3.テーマを追加する</a></li>
<li><a href="#4-記事を追加する">4.記事を追加する</a></li>
<li><a href="#5-ローカルブラウザで確認する">5.ローカルブラウザで確認する</a></li>
<li><a href="#6-サイトの設定を記述する">6.サイトの設定を記述する</a></li>
</ul></li>
<li><a href="#githubにhugoをプッシュする">GitHubにHUGOをプッシュする</a>
<ul>
<li><a href="#1-hugoプロジェクトにリモートリポジトリを設定する">1.HUGOプロジェクトにリモートリポジトリを設定する</a></li>
<li><a href="#2-ユーザー名-組織名-github-ioをsubmoduleとして取り込む">2.[ユーザー名/組織名].github.ioをsubmoduleとして取り込む</a></li>
<li><a href="#3-hugoコマンドでビルドする">3.hugoコマンドでビルドする</a></li>
<li><a href="#4-公開用ファイルをプッシュする">4.公開用ファイルをプッシュする</a></li>
<li><a href="#5-hugoプロジェクトをプッシュする">5.HUGOプロジェクトをプッシュする</a></li>
</ul></li>
</ul></li>
<li><a href="#記事を更新する">記事を更新する</a></li>
<li><a href="#スクリプトでデプロイを自動化する">スクリプトでデプロイを自動化する</a></li>
<li><a href="#まとめ">まとめ</a>
<ul>
<li><a href="#評価">評価</a>
<ul>
<li><a href="#メリット">メリット</a></li>
<li><a href="#デメリット">デメリット</a></li>
</ul></li>
<li><a href="#おわりに">おわりに</a></li>
</ul></li>
</ul>
</nav>
                    </div>
                  
                
                <section id="post-body">
                    

<h1 id="github-pagesとは">GitHub Pagesとは</h1>

<p>GitHubが提供する静的サイトのホスティングサービスです。サーバーを準備する必要がなく、簡単かつ<strong>無料</strong>でWebページを公開することができるのでとても便利です。</p>

<ul>
<li><strong>静的ファイル(HTML,CSS,javascript,画像)を公開できる。</strong>(データベースを用いるような動的なページは公開できない)</li>
<li><strong>独自ドメインを割り当てることができる。</strong>(別途ドメインの取得が必要)</li>
<li><strong>ユーザー/組織ページ、プロジェクトページが作成できる。</strong></li>
</ul>

<p>制限として、ソースリポジトリの容量は1GB以下、ビルドは1時間あたり10回などがあります。詳しくは公式のヘルプを参考にしてください。</p>

<p><a href="https://help.github.com/articles/what-is-github-pages/#usage-limits">What is GitHub Pages? - User Docmentation</a></p>

<h1 id="hugoとは">HUGOとは</h1>

<blockquote>
<p>HUGOは、静的なhtmlを生成する事ができる静的ページジェネレータです。HUGOの場合、ローカル環境ではHUGOの動的機能を使って動的にサイトを開発し、成果物の出力時に動的要素を全て静的要素（html,css,js,img等）として出力します。 生成された成果物にはサーバサイドの処理を含まないため、サイトの表示速度は高速になり、サーバサイドの処理が無い分セキュリティリスクが減ります。</p>
</blockquote>

<p>参考:<a href="http://www.study-hugo.com/basic/whats-hugo/">HUGOとは？|Let&rsquo;s study HUGO!!</a></p>

<ul>
<li><strong>ページに必要なHTMLやCSSなどの静的ファイルを作成してくれるジェネレータ</strong></li>
<li><strong>MarkDown記法で記事を書いてビルドすると必要なファイルが生成される</strong></li>
<li><strong>テーマを利用すれば簡単にデザインを変更できる</strong></li>
<li><strong>サーバーサイドの処理がなく高速</strong>(記事数が増えてきたら恩恵を感じるかも)</li>
</ul>

<p>自分でテンプレートを編集する場合はGo Templatesの知識が必要になりますが、基本的にHTMLやjavascript、コマンド実行の経験がある方なら苦労せず導入できます。静的ジェネレータはHUGO以外にもjekyllやGatsbyなど色々あります。高速という点でHUGOを選んでみました。</p>

<h1 id="導入">導入</h1>

<h2 id="githubの準備">GitHubの準備</h2>

<p>GitHub Pagesには<strong>ユーザー/組織ページ</strong>と<strong>プロジェクトページ</strong>の2種類があります。ここでは<font color="Red">ユーザー/組織ページの手順</font>を紹介します。</p>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">URL</th>
<th align="center">備考</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">User/Organization</td>
<td align="left">https://[ユーザー名/組織名].github.io/</td>
<td align="center">ユーザー、組織のページ</td>
</tr>

<tr>
<td align="left">Project</td>
<td align="left">https://[ユーザ名/組織名].github.io/[リポジトリ名]/</td>
<td align="center">プロジェクトのページ</td>
</tr>
</tbody>
</table>

<h3 id="1-githubリポジトリを作成する">1.GitHubリポジトリを作成する</h3>

<p>GitHubでリポジトリを作成します。HUGO全体のソースを管理するリポジトリと、公開用ファイルを管理するリポジトリの2つを作成します。</p>

<h4 id="ユーザー名-組織名-github-io-公開ファイル用">[ユーザー名/組織名].github.io(公開ファイル用)</h4>

<p>公開ファイル(HUGOで生成されたpublic配下)を管理するリポジトリ。ここにある静的ファイルがWebページとして公開されます。<strong>[ユーザー名/組織名].github.io</strong>という名前で作成する必要があります。</p>

<h4 id="hugo-source-hugo全体のソース用">hugo_source(HUGO全体のソース用)</h4>

<p>HUGO全体のソースを管理するリポジトリ。名前は任意でOK。Webページ公開において必須ではないですがブログの記事やテンプレート、設定の変更を管理したいので作成します。</p>

<h2 id="hugoの準備">HUGOの準備</h2>

<p>HUGO公式ページに載っている<strong>Quick Start</strong>の手順を元に進めていきます。</p>

<p><a href="https://gohugo.io/getting-started/quick-start/">https://gohugo.io/getting-started/quick-start/</a></p>

<p>※Homebrewがインストールされていない場合はインストールしてください。
<a href="https://brew.sh/index_ja">https://brew.sh/index_ja</a></p>

<h3 id="1-hugoをインストールする">1.HUGOをインストールする</h3>

<p>インストール</p>

<pre><code>brew install hugo
</code></pre>

<p>確認</p>

<pre><code>hugo version
</code></pre>

<h3 id="2-hugoプロジェクトを作成する">2.HUGOプロジェクトを作成する</h3>

<p>任意のディレクトリでプロジェクトを作成</p>

<pre><code>hugo new site [プロジェクト名]
</code></pre>

<h3 id="3-テーマを追加する">3.テーマを追加する</h3>

<pre><code>// プロジェクトに移動
cd [プロジェクト名]

// プロジェクトをgitリポジトリ化
git init
// anankeテーマをsubmoduleとしてリポジトリに取り込む
git submodule add submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke

// config.tomlにanankeテーマを使用する宣言を記述
echo 'theme = &quot;ananke&quot;' &gt;&gt; config.toml
</code></pre>

<p>テーマは<a href="https://themes.gohugo.io/">https://themes.gohugo.io/</a>に沢山あります。とりあえずチュートリアルに沿ってanankeを適用します。</p>

<p>submodule化することで外部のリポジトリを自分のリポジトリの管理下に置くことができます。これでテーマのアップデートや修正を追跡することができます。</p>

<p><a href="https://git-scm.com/book/ja/v1/Git-%E3%81%AE%E3%81%95%E3%81%BE%E3%81%96%E3%81%BE%E3%81%AA%E3%83%84%E3%83%BC%E3%83%AB-%E3%82%B5%E3%83%96%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB">Git - サブモジュール</a></p>

<h3 id="4-記事を追加する">4.記事を追加する</h3>

<pre><code>hugo new posts/my-first-post.md
</code></pre>

<p>コマンドを実行すると<code>content</code>ディレクトリ内に<code>/posts/my-first-post.md</code>ファイルが作成されます。記事ファイルは<code>/archetypes/default.md</code>のテンプレートを元に作られます。</p>

<p>my-first-post.mdの内容はデフォルトで<code>title:タイトル</code>、<code>date:日付</code>、<code>draft:下書き</code>となっています。カテゴリやタグの設定をすることも可能です。</p>

<pre><code>---
title: &quot;my-first-post&quot;
date: 2019-02-13T15:30:40+09:00
draft: true
---
</code></pre>

<h3 id="5-ローカルブラウザで確認する">5.ローカルブラウザで確認する</h3>

<pre><code>hugo server -D
</code></pre>

<p>HUGOサーバーを立ち上げ<a href="http://localhost:1313/">http://localhost:1313/</a>にアクセスするとページが確認できます。既に<code>1313</code>ポートが使われている場合別のポート番号が割り振られるのでログを確認してください。</p>

<p><code>-D</code>オプションは下書き記事もビルド対象に含めます。デフォルトでは作成した記事は<code>draft: true</code>(下書き状態)になっています。<code>hugo server</code>で実行すると下書き記事が表示されないことを確認できるかと思います。</p>

<h3 id="6-サイトの設定を記述する">6.サイトの設定を記述する</h3>

<p><code>config.toml</code>ファイルを下記のように編集します。</p>

<pre><code>baseURL = &quot;https://[ユーザー名/組織名].github.io/&quot;
languageCode = &quot;ja-jp&quot;
title = &quot;[ホームページタイトル]&quot;
theme = &quot;ananke&quot;
</code></pre>

<p>適用するテーマによってはパラメータ項目を記述することでページ内にSNSのアイコンを表示したりボタンの表記を変更したりすることができます。詳しくはテーマごとのgitドキュメントを参考にしてください。</p>

<h2 id="githubにhugoをプッシュする">GitHubにHUGOをプッシュする</h2>

<p>参考:<a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Host on GitHUB | HUGO</a></p>

<h3 id="1-hugoプロジェクトにリモートリポジトリを設定する">1.HUGOプロジェクトにリモートリポジトリを設定する</h3>

<p>HUGOプロジェクトは既に<code>git init</code>でリポジトリ化されているのでリモートの情報を設定します。リポジトリはhugo_sourceを指定します。</p>

<pre><code>git remote add origin https://github.com/[ユーザー名/組織名]/hugo_source.git
</code></pre>

<p>確認</p>

<pre><code>git remote -v
</code></pre>

<h3 id="2-ユーザー名-組織名-github-ioをsubmoduleとして取り込む">2.[ユーザー名/組織名].github.ioをsubmoduleとして取り込む</h3>

<p>[ユーザー名/組織名].github.ioリポジトリをpublicというディレクトリ名でsubmoduleとして取り込みます。既にpublicディレクトリが存在する場合は先に<code>rm -rf public</code>で削除してください。</p>

<pre><code>git submodule add -b master https://github.com/[ユーザー名/組織名]/[ユーザー名/組織名].github.io.git public
</code></pre>

<h3 id="3-hugoコマンドでビルドする">3.hugoコマンドでビルドする</h3>

<p>ビルド</p>

<pre><code>hugo
</code></pre>

<p>コマンドを実行すると<code>public</code>配下に公開用ファイルが生成されます。</p>

<h3 id="4-公開用ファイルをプッシュする">4.公開用ファイルをプッシュする</h3>

<pre><code>// publicに移動
cd public

// ステージング
git add .

// コミット
git commit -m &quot;[コミットメッセージ]&quot;

// プッシュ
git push origin master
</code></pre>

<p><code>push</code>すると[ユーザー名/組織名].github.ioリポジトリに反映されます。反映まで数分かかる場合があります。ここでhttps://[ユーザー名/組織名].github.io/にアクセスすればページが表示されるかと思います。</p>

<h3 id="5-hugoプロジェクトをプッシュする">5.HUGOプロジェクトをプッシュする</h3>

<p>HUGOプロジェクト一式をGitHubのhugo_sourceリポジトリにプッシュします。</p>

<pre><code>// publicを出る
cd ..

// ステージング
git add .

// コミット
git commit -m &quot;[コミットメッセージ]&quot;

// プッシュ
git push origin master
</code></pre>

<h1 id="記事を更新する">記事を更新する</h1>

<p>GitHub Pagesを設置する作業は以上です。</p>

<p>記事の更新は基本的に、</p>

<ol>
<li><strong><code>hugo new [記事タイトル.md]</code>でファイルを作成</strong></li>
<li><strong>MarkDown記法で記事を書く</strong></li>
<li><strong><code>hugo</code>でビルドする</strong></li>
<li><strong>GitHubのリモートリポジトリにプッシュする</strong></li>
</ol>

<p>という流れになります。</p>

<h1 id="スクリプトでデプロイを自動化する">スクリプトでデプロイを自動化する</h1>

<p>上記の手順を手動で行ってもいいのですがシェルスクリプトで自動化します。</p>

<pre><code>vi deploy.sh
</code></pre>

<p>HUGOプロジェクト直下に<code>deploy.sh</code>ファイルを作成し以下の内容を貼り付けます。</p>

<pre><code>#!/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo # if using a theme, replace with `hugo -t &lt;YOURTHEME&gt;`

# 公開用ファイルのデプロイ
# Go To Public folder
cd public
# Add changes to git.
git add .

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master

# Come Back up to the Project Root
cd ..

# HUGOプロジェクト全体のソースのデプロイ
# Add changes to git.
git add .

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin master
</code></pre>

<p>これで記事が完成した後に<code>sh deoloy.sh</code>コマンドを実行することでビルドからプッシュまでを自動でやってくれます。</p>

<h1 id="まとめ">まとめ</h1>

<p>結構お手軽にWebページを公開することができました。ちょっと簡素なページでもいいから独自ドメインのWebページやブログが欲しいといった場合にいいんじゃないでしょうか。GitHubを使うので技術発信の役目も兼ねていて一石二鳥です。</p>

<h2 id="評価">評価</h2>

<h3 id="メリット">メリット</h3>

<ul>
<li>無料</li>
<li>サーバーを準備しなくていい、メンテナンスがいらない</li>
<li>比較的容易に個人のサイトを開設できる</li>
<li>記事の公開が簡単(MarkDown記法)</li>
<li>テーマを使って簡単にデザインを反映できる</li>
<li>gitで管理できる、環境が変わっても引越しが簡単</li>
<li>独自ドメインを設定できる</li>
</ul>

<h3 id="デメリット">デメリット</h3>

<ul>
<li>静的ファイルのみ、動的ページは公開できない</li>
<li>容量制限があり画像などはあまりアップロードできない</li>
<li>コマンドでの作業に馴染みがないとハードルがちょっと高い</li>
<li>オリジナルのデザインを作るには勉強が必要</li>
</ul>

<h2 id="おわりに">おわりに</h2>

<p><code>hugo</code>コマンドには色々なオプションがあります。また、<code>config.tomol</code>にパラメータを追加したり<code>default.md</code>をカスタマイズすることでより簡単かつ便利に運用ができそうです。その辺のTipsも今後まとめていきたいと思います。</p>

                </section>
            </article>

            

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    
    <a class="symbol" href="https://www.github.com/s0Hry4">
        roundedgithub
    </a>
    
    <a class="symbol" href="https://www.instagram.com/nasubi_n/">
        roundedinstagram
    </a>
    
    <a class="symbol" href="https://nasubiorz.tumblr.com/">
        roundedtumblr
    </a>
    
    <a class="symbol" href="https://www.twitter.com/cRn4s">
        roundedtwitterbird
    </a>
    


</div>

    
    <p class="small">
    
        ©️ 2019 MonzoSonoda
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="https://s0Hry4.github.io/js/jquery-3.3.1.min.js"></script>
<script src="https://s0Hry4.github.io/js/main.js"></script>
<script src="https://s0Hry4.github.io/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>







    </body>
</html>
